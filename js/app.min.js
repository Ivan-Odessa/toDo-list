(()=>{"use strict";let t=!1;setTimeout((()=>{if(t){let t=new Event("windowScroll");window.addEventListener("scroll",(function(e){document.dispatchEvent(t)}))}}),0);const e=document.querySelector("#form"),o=document.querySelector("#taskInput"),n=document.querySelector(".toDo__list");document.querySelector(".list-toDo__empty");let i=[];function s(){if(0===i.length){const t='<li class="list-toDo__item list-toDo__empty" id="emptyList">\n      <p class="list-toDo__text">Список дел пуст</p>\n      </li>';n.insertAdjacentHTML("afterbegin",t)}if(i.length>0){const t=document.querySelector("#emptyList");t&&t.remove()}}function l(){localStorage.setItem("tasks",JSON.stringify(i))}function c(t){const e=t.done?"list-toDo__item list-toDo__item-task list-toDo__item-task--active":"list-toDo__item list-toDo__item-task",o=`<li id="${t.id}" class="${e}">\n            <span class="list-toDo__title">${t.text}</span>\n            <div class="list-toDo__buttons">\n               <button class="list-toDo__btn list-toDo__btn--done" type="button"\n                  data-action="done">\n               </button>\n               <button class="list-toDo__btn list-toDo__btn--delete" type="button"\n                  data-action="delete">\n               </button>\n            </div>\n         </li>`;n.insertAdjacentHTML("beforeend",o)}localStorage.getItem("tasks")&&(i=JSON.parse(localStorage.getItem("tasks")),i.forEach((function(t){c(t)}))),s(),e.addEventListener("submit",(function(t){t.preventDefault();const e=o.value,n={id:Date.now(),text:e,done:!1};i.push(n),l(),c(n),o.value="",o.focus(),s()})),n.addEventListener("click",(function(t){if("delete"!==t.target.dataset.action)return;const e=t.target.closest(".list-toDo__item"),o=Number(e.id);i=i.filter((t=>t.id!==o)),l(),e.remove(),s()})),n.addEventListener("click",(function(t){if("done"!==t.target.dataset.action)return;const e=t.target.closest(".list-toDo__item"),o=Number(e.id),n=i.find((t=>t.id===o));n.done=!n.done,l(),e.classList.toggle("list-toDo__item-task--active")})),window.FLS=!0,function(t){let e=new Image;e.onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}))})();